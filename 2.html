<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
    <title>Test</title>
  </head>
  <body>
    <hr style="border:1px dotted #036" />
    <h3 align="center">缺水環境</h3>
    <div id="main" style="width: 600px; height: 400px;text-align:center;margin:0 auto;"></div>
    <div class="slidecontainer" style="line-height: 60px;text-align:center;vertical-align:top;" >
      <input
        type="range"
        id="bar"
        min="0"
        max="180"
        value="50"
        class="slider"
        id="myRange"
        onChange="changePlot(event)"
        style="width: 485px;"
      />
    </div>

    <style>
        .slidecontainer {
          width: 100%;
        }
    
        .slider {
          -webkit-appearance: none;
          width: 50%;
          height: 15px;
          border-radius: 5px;
          background: #d3d3d3;
          outline: none;
          opacity: 0.7;
          -webkit-transition: 0.2s;
          transition: opacity 0.2s;
        }
    
        .slider:hover {
          opacity: 1;
        }
    
        .slider::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 25px;
          height: 25px;
          border-radius: 50%;
          background: #0074e0;
          cursor: pointer;
        }
      </style>

    <style type="text/css">
      .tg  {border-collapse:collapse;border-spacing:0;}
      .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg .tg-9x6m{border-top-left-radius: 15px;background-color:#96c4f0;border:none;color:#000000;text-align:left;vertical-align:top}
      .tg .tg-v23m{background-color:#96c4f0;border:none;color:#000000;text-align:left;vertical-align:middle}
      .tg .tg-v24m{border-bottom-right-radius: 10px;background-color:#96c4f0;border:none;color:#000000;text-align:left;vertical-align:middle}
      .tg .tg-g8gk{background-color:#96c4f0;border:none;color:#000000;text-align:center;vertical-align:middle}  
      .tg .tg-g8a4{border-top-right-radius: 10px;background-color:#96c4f0;border:none;color:#000000;text-align:center;vertical-align:middle}  
      tr:last-child td:first-child{border-bottom-left-radius: 10px;}
      tr:last-child td:last-child{border-bottom-right-radius: 10px;}
     </style>

    <div id='sheet' style="width: 600px; height: 400px;text-align:center;margin:0 auto;">
      <table 
        class="tg" 
        onchange="mytable(event)" 
        style="width: 485px; margin-left: 60px;">
      <thead>
        <tr>
          <th class="tg-9x6m" colspan="2">🌡️ 溫度：</th>
          <th class="tg-g8a4" colspan="2">今天：</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="tg-v23m">　前一天高溫：</td>
          <th class="tg-v23m" v-for="temperature_maxs in temperature_max"> {{temperature_maxs}} °C</th>
          <td class="tg-g8gk"  style="vertical-align:bottom;" colspan="2" rowspan="2" v-for="run_dates in run_date">{{run_dates}}</td>
        </tr>
        <tr>
          <td class="tg-v23m">　前一天低溫：</td>
          <th class="tg-v23m" v-for="temperature_mins in temperature_min">{{temperature_mins}} °C</th>
        </tr>
        <tr>
          <td class="tg-v23m" colspan="2">☀️ 光照：</td>
          <td class="tg-g8gk" style="vertical-align:text-top;" colspan="2" rowspan="2" v-for="weeks in week">{{weeks}}</td>
        </tr>
        <tr>
          <td class="tg-v23m">　前一天光照值：</td>
          <th class="tg-v23m" v-for="solar_radiations in solar_radiation">{{solar_radiations}} MJ</th>
        </tr>
        <tr>
          <td class="tg-v23m">　累積光照：</td>
          <th class="tg-v23m" v-for="accu_solar_radiations in accu_solar_radiation">{{accu_solar_radiations}} MJ</th>
          <td class="tg-v23m">種植開始日：</td>
          <th class="tg-v23m" >2020/02/04</th>
        </tr>
        <tr>
          <td class="tg-v23m" colspan="2">🌧️累積雨量：</td>
          <td class="tg-v23m">累積種植天數：</td>
          <th class="tg-v23m" v-for="planting_dayss in planting_days">{{planting_dayss}} 天</th>
        </tr>
        <tr>
          <td class="tg-v23m">　前一天降雨量：</td>
          <th class="tg-v23m" v-for="rainfallss in rainfalls">{{rainfallss}} mm</th>
          <td class="tg-v23m">預估收穫日：</td>
          <th class="tg-v23m" v-for="harvest_dates in harvest_date">{{harvest_dates}}</th>
        </tr>
        <tr>
          <td class="tg-v23m">　累積雨量：</td>
          <th class="tg-v23m" v-for="accu_rainfallss in accu_rainfalls">{{accu_rainfallss}} mm</th>
          <td class="tg-v23m">預估總種植天數：</td>
          <th class="tg-v24m" v-for="predicted_planting_dayss in predicted_planting_days">{{predicted_planting_dayss}} 天</th>
        </tr>
      </tbody>
    </div>

    
    <script type="text/javascript">
      var mybar = document.getElementById("bar").value; //拉霸的值
      var chartDom = document.getElementById("main");
      var myChart = echarts.init(chartDom);
      var option;
      var outerData = {
        temperature_max: [
        ],
        temperature_min: [
        ],
        solar_radiation: [
        ],
        accu_solar_radiation: [
        ],
        rainfalls: [
        ],
        accu_rainfalls: [
        ],
        week: [
        ],
        run_date: [
        ],
        planting_days: [
        ],
        harvest_date: [
        ],
        predicted_planting_days:[
        ],
      }      
      var sheet = new Vue({
      el: "#sheet", 
      data: outerData
      });
      const harvest_amounts = [104.5,104.76,104.55,104.29,104.29,104.29,104.29,104.29,104.29,104.29,104.29,104.29,104.93,103.79,104.6,104.98,105.14,104.51,103.62,102.89,101.33,100.57,98.19,97.56,96.36,94.9,95.01,92.91,93.41,92.56,91.97,92.89,91.8,89.58,95.83,94.08,94.33,94.22,89.48,89.01,89.34,94.14,94.24,94.14,94.22,89.52,89.28,88.27,87.12,85.66,86.25,85.95,85.41,90.95,90.95,90.95,90.76,84.48,84.08,84.33,84.29,80.9,81.18,84.61,84.7,84.8,84.82,84.75,84.81,84.88,85,85.16,85.11,81.85,75.85,75.83,81.35,80.99,81.16,80.85,75.42,75.63,75.71,75.75,75.79,75.81,72.48,72.28,72.28,72.22,75.15,74.85,72.66,72.3,64.14,63.22,53.28,53.19,53.51,50.6,50.29,50.18,49.94,50.53,50.57,50.49,49.98,49.89,49.85,49.2,48.71,48.98,49.28,49.41,49.26,49.34,49.61,49.72,50.18,50.49,50.81,51.11,51.41,51.8,52.26,52.32,42.82,41.55,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42,41.42];
      const alert_values = [80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80];
      const max_harvest = [124.65,124.19,113.54,121.29,118.67,111.59,116.67,108.8,124.06,105.16,114.57,111.71,111.31,116.6,119.7,121.31,114.1,115.95,116.21,125.57,106.84,101.51,109.58,98.68,114.04,117.28,98.7,109.42,100.41,100.01,113.5,107.32,109.38,90.44,99.35,99.47,100.58,103.84,104.08,98.75,106.9,96.55,95.22,110.46,111.07,106.98,107.53,107.67,101.93,87.63,99.16,100.74,87.86,103.95,94.84,101.27,101.94,85.43,90.65,94.05,92.77,86.96,92.72,94.15,86.87,87.19,92.26,98.85,91.05,100.65,98.24,89.02,87.45,85.29,81.53,91.26,82.25,91.33,92.83,87.7,80.7,85.98,76.28,88.92,85.75,80.26,75.5,76.72,76.2,78.58,80.36,84.02,85.23,80.63,64.88,72.16,59.43,56.98,58.4,62,58.19,59.29,62.37,62.52,60.64,59.1,51.6,51.36,53.24,54.81,50.68,55.85,59.29,50.53,51.48,55.7,51.8,50.82,54.61,54.18,57.64,53.99,60.24,53.79,53.06,54.85,47.69,50.12,49.83,50.66,50.03,43.81,44.82,49.6,42.75,49.71,42.2,43.8,46.65,42.4,44.76,42.58,50.68,41.75,48.64,42.58,47.05,44.3,41.43,46.09,50.51,43.33,47.38,44.75,42.5,48.7,50.59,47.12,46.07,43.34,47.53,46.82,43.62,44.01,43.5,45.19,50.81,41.9,43.49,42.13,47.99,48.22,45.85,41.52,48.7,50.43,41.46,50.4,44.64,49.12,50.85];
      const min_harvest = [102.19,93.81,80.47,104.14,95.47,84.71,99.8,84.55,89.19,101.91,100.26,79.75,101.56,88.4,104.27,80.93,96.16,96.06,94.43,93.95,95.58,89.01,79.45,93.02,75.91,84.55,77.07,88.59,87.24,88.91,76.59,72.76,91.79,82.81,87.56,80.2,85.69,76.37,77.22,83.96,73.44,84.03,76.77,85.44,82.47,78.13,89.09,69.94,80.75,68.76,84.62,67.6,77.25,73.77,83.5,76.16,76.09,67.45,79.55,68.48,74.52,69.58,78.97,73.44,78.45,70.12,70.92,70.56,68.53,84.55,72.24,68.42,81.87,69.65,61.15,73.32,65.73,80.5,79.41,78.37,61.46,63.77,70.77,60.4,64.03,72.51,70.16,62.67,69.07,58.82,67.75,74.34,67.61,64.62,51.48,52.49,52.98,41.74,46.85,38.98,41.52,47.35,41.29,47.78,38.25,39.55,39.08,40.44,47.83,47.34,41.56,42.54,41.08,48.19,47.86,47.84,48.09,40.19,49.15,47.86,43.42,47.41,44.09,50.63,48.92,44.53,36.26,35.57,34.76,39.96,41.29,40.19,32.76,38.76,38.16,35.58,34.99,39.28,32.67,39.49,34.39,32,35.77,36.35,35.98,40.72,36.15,37.5,37.01,39.73,36.98,40.91,38.03,35.64,35.41,33.18,32.12,40.03,37.57,40.36,40.26,32.27,38.59,32.23,39.94,40.86,33.48,36.47,39.19,32.7,36.87,32.81,32.11,35.32,35.36,37.47,33.82,35.89,40.49,35.35,37];
      const my_temperature_max =[17.8,23.3,25.5,23.7,23,22.4,23.3,23.1,23.4,23.8,24.7,30.1,23.3,18.2,21.5,22.6,23.8,23.4,25.3,26.9,26.4,28.9,28.8,27.2,26.5,29.2,28.4,26.1,27.8,25,20.8,25.6,28.6,27.6,32,24.5,24.5,25.2,28.4,21.3,24.2,26.1,27.1,24.8,26.5,26.9,28.3,29.8,29.5,27.5,29.1,31.9,31.5,26.8,26.9,26.5,29.6,26.2,23.8,26.9,24.7,21.9,21,24.5,25.8,28,28.8,26.6,22.1,23.2,21.5,27,28.3,28.6,30.8,32.4,30.8,29.2,27.9,24.1,20,25.9,26.8,27.3,30.1,29.6,30.9,31.4,31.6,32,33.6,34.2,33.5,33.1,34.2,33.9,35.1,32.8,29.5,32.9,32.7,33,33.2,32.9,28.7,27.7,31,29.3,26.3,27,32.6,32,29.4,27.9,29.3,31.4,32.5,32.9,33.1,33.1,33.4,34.2,34.4,34.4,32.8,29.3,25.2,32.9,31,32.5,33.9,34.2,33.9,33.6,33.8,34.8,33.7,33.7,34.1,34.5,34.8,34.6,34.9,35.6,34.3,34.9,35.4,34.6,34.9,34.8,34.5,34.1,34.6,33.1,35,35.3,35.2,36.4,35.2,36,36.1,35.5,33.9,31.5,35,35.7,35.9,36.3,34.8,34.2,35.1,35.2,34,34.9,34.4,34.4,32.7,32.8,34.5,35.5,33.2];
      const my_temperature_min =[13.9,13.2,11.7,12.8,13.6,13.1,12.7,13.4,13.2,13.7,14.2,18.1,12.2,8.8,7.7,9.1,11.6,14.1,13.8,14.8,14.9,15.8,16.8,17.7,17.4,17.7,18.4,17.8,15.4,16.3,14.7,15.3,17.6,18.2,19.3,17,16.1,18.2,19,15.3,12.4,14.3,16.9,18,19.3,19.7,19.1,21.3,20.4,19.9,20.3,20.5,21.9,17.1,17.2,19.6,19.4,18.2,17.1,18.8,17.7,16,15.8,16,15.3,18.3,17.6,19.2,12.4,8.8,18.5,17.1,14.1,16,19.9,22.3,23.3,21.7,20,17.2,16.8,17.7,19.9,19.8,19.7,19.9,19.2,20.7,22.8,23.3,24.3,24.6,25.4,25.4,23.9,25.6,25.9,24.9,23.6,22.7,24.2,23.2,23,22.1,22.8,21.9,21.9,22.9,23,23.5,24.1,24.7,24.5,23.8,24.2,24.1,23.4,25.8,25,25.3,24.9,24.8,25.5,25.8,24,22.6,23,23.3,24.1,25.7,25.6,24.4,24,24.7,24.9,25.4,25.4,25.9,25.6,25.5,25.9,26,26.4,23.8,23.5,25.7,26.3,27.2,25.3,25,25.1,24.9,26.3,25.2,26.2,26.5,26.3,25.9,25.7,25.1,26.9,27,27.3,26.1,25.5,26.5,26.5,24.3,23.8,25.6,26.7,25.8,26.6,22.5,24.2,24.4,23.9,25.9,26.2,25.5,24.9];
      const my_solar_radiation =[3,20.3,18.3,10,9.3,9.9,11,9.5,9.9,10.1,10.6,16.5,4.1,15.1,17.8,20.8,18.9,18.7,19.5,21.4,21.1,22.9,23.3,21.2,19.6,16.2,21.7,21.4,22.8,21.1,11.2,16.6,22,18.6,22.8,8.6,14.1,0.1,14.1,4.2,20.7,23.8,22.4,10.8,11.7,15.1,18.2,19.4,22.2,17.5,23.9,23.8,23.6,13,12.4,11.7,18.1,20.6,9.1,16.2,17.7,7,6.8,23.6,18.3,22.1,24.9,9,24,30.4,0.1,0.1,28.3,28.1,0.1,15.9,23.8,0.1,15.6,0.1,0.1,0.1,0.1,9.6,24.7,29,28.3,0.1,0.1,27.1,28.3,24.6,0.1,0.1,0.1,0.1,27.4,0.1,12.6,26.1,23.7,28.3,0.1,0.1,8.9,0.1,18.8,0.1,0.1,7,23.6,22.9,9.2,6.8,9.3,18.1,22.2,20.1,28.3,27.1,0.1,0.1,0.1,19.3,11,4.8,0.1,21,11.4,15.9,24,18.9,26.6,28.4,27.5,3.5,28.3,25.3,19.5,25.5,26.2,24.8,24.8,17.2,25.4,28.1,25.4,21.2,17.6,18.9,20.5,26,26.3,18.8,24.5,24.2,19.4,23.4,28.5,0.1,28.7,25.6,12.7,10.2,26.4,29.6,25.4,27.2,28.2,25.1,25.9,25,14.7,18.1,20.3,0.1,19.2,12,24.9,20.9,14.1];
      const my_accu_solar_radiation =[3,20.3,18.3,10,9.3,9.9,11,9.5,9.9,10.1,10.6,16.5,4.1,15.1,17.8,20.8,18.9,18.7,19.5,21.4,21.1,22.9,23.3,21.2,19.6,16.2,21.7,21.4,22.8,21.1,11.2,16.6,22,18.6,22.8,8.6,14.1,0.1,14.1,4.2,20.7,23.8,22.4,10.8,11.7,15.1,18.2,19.4,22.2,17.5,23.9,23.8,23.6,13,12.4,11.7,18.1,20.6,9.1,16.2,17.7,7,6.8,23.6,18.3,22.1,24.9,9,24,30.4,0.1,0.1,28.3,28.1,0.1,15.9,23.8,0.1,15.6,0.1,0.1,0.1,0.1,9.6,24.7,29,28.3,0.1,0.1,27.1,28.3,24.6,0.1,0.1,0.1,0.1,27.4,0.1,12.6,26.1,23.7,28.3,0.1,0.1,8.9,0.1,18.8,0.1,0.1,7,23.6,22.9,9.2,6.8,9.3,18.1,22.2,20.1,28.3,27.1,0.1,0.1,0.1,19.3,11,4.8,0.1,21,11.4,15.9,24,18.9,26.6,28.4,27.5,3.5,28.3,25.3,19.5,25.5,26.2,24.8,24.8,17.2,25.4,28.1,25.4,21.2,17.6,18.9,20.5,26,26.3,18.8,24.5,24.2,19.4,23.4,28.5,0.1,28.7,25.6,12.7,10.2,26.4,29.6,25.4,27.2,28.2,25.1,25.9,25,14.7,18.1,20.3,0.1,19.2,12,24.9,20.9,14.1];
      const my_rainfalls =[0,0.5,0,1.2,1.8,0.8,0,1.4,0.9,1.2,1.5,0,0,0.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,26,0,0,0,4,0.5,0,0,0,1,0,0,0,0,0,0,0,0,2,2.3,0,0,0,6.5,0,0,2.5,10.5,6.5,0,0,0,2.5,3,0,0,0,0,0,0,0,0,0,0,7.5,7,0,0.5,0,0,0,0,0,0,0,0,0,0,0,0,0,1.5,0,0,0,0,0,11.5,0,10,38,0.5,33.5,48.5,8.5,0,0,64.5,47.5,47,4.5,0,0,0,0,0,0,0,0,6.5,18,21.5,0,18.5,0,0.5,68,0.5,0.5,0,0,0,0,0,0,0,0,0,22.5,0,0,0,0,11,3,2,0,0,4,0,0,0,0,0,0,0,0,0,1.5,1.5,0,0.5,3,0,0,0,0,0,17.5,4,17.5,0,0,0,4,24.5];
      const my_accu_rainfalls =[3,23.3,41.6,51.6,60.9,70.8,81.8,91.3,101.2,111.3,121.9,138.4,142.5,157.6,175.4,196.2,215.1,233.8,253.3,274.7,295.8,318.7,342,363.2,382.8,399,420.7,442.1,464.9,486,497.2,513.8,535.8,554.4,577.2,585.8,599.9,600,614.1,618.3,639,662.8,685.2,696,707.7,722.8,741,760.4,782.6,800.1,824,847.8,871.4,884.4,896.8,908.5,926.6,947.2,956.3,972.5,990.2,997.2,1004,1027.6,1045.9,1068,1092.9,1101.9,1125.9,1156.3,1156.4,1156.5,1184.8,1212.9,1213,1228.9,1252.7,1252.8,1268.4,1268.5,1268.6,1268.7,1268.8,1278.4,1303.1,1332.1,1360.4,1360.5,1360.6,1387.7,1416,1440.6,1440.7,1440.8,1440.9,1441,1468.4,1468.5,1481.1,1507.2,1530.9,1559.2,1559.3,1559.4,1568.3,1568.4,1587.2,1587.3,1587.4,1594.4,1618,1640.9,1650.1,1656.9,1666.2,1684.3,1706.5,1726.6,1754.9,1782,1782.1,1782.2,1782.3,1801.6,1812.6,1817.4,1817.5,1838.5,1849.9,1865.8,1889.8,1908.7,1935.3,1963.7,1991.2,1994.7,2023,2048.3,2067.8,2093.3,2119.5,2144.3,2169.1,2186.3,2211.7,2239.8,2265.2,2286.4,2304,2322.9,2343.4,2369.4,2395.7,2414.5,2439,2463.2,2482.6,2506,2534.5,2534.6,2563.3,2588.9,2601.6,2611.8,2638.2,2667.8,2693.2,2720.4,2748.6,2773.7,2799.6,2824.6,2839.3,2857.4,2877.7,2877.8,2897,2909,2933.9,2954.8,2968.9];
      const my_week =['星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日', '星期一'];
      const my_run_date =['2020/2/4', '2020/2/5', '2020/2/6', '2020/2/7', '2020/2/8', '2020/2/9', '2020/2/10', '2020/2/11', '2020/2/12', '2020/2/13', '2020/2/14', '2020/2/15', '2020/2/16', '2020/2/17', '2020/2/18', '2020/2/19', '2020/2/20', '2020/2/21', '2020/2/22', '2020/2/23', '2020/2/24', '2020/2/25', '2020/2/26', '2020/2/27', '2020/2/28', '2020/3/1', '2020/3/2', '2020/3/3', '2020/3/4', '2020/3/5', '2020/3/6', '2020/3/7', '2020/3/8', '2020/3/9', '2020/3/10', '2020/3/11', '2020/3/12', '2020/3/13', '2020/3/14', '2020/3/15', '2020/3/16', '2020/3/17', '2020/3/18', '2020/3/19', '2020/3/20', '2020/3/21', '2020/3/22', '2020/3/23', '2020/3/24', '2020/3/25', '2020/3/26', '2020/3/27', '2020/3/28', '2020/3/29', '2020/3/30', '2020/3/31', '2020/4/1', '2020/4/2', '2020/4/3', '2020/4/4', '2020/4/5', '2020/4/6', '2020/4/7', '2020/4/8', '2020/4/9', '2020/4/10', '2020/4/11', '2020/4/12', '2020/4/13', '2020/4/14', '2020/4/15', '2020/4/16', '2020/4/17', '2020/4/18', '2020/4/19', '2020/4/20', '2020/4/21', '2020/4/22', '2020/4/23', '2020/4/24', '2020/4/25', '2020/4/26', '2020/4/27', '2020/4/28', '2020/4/29', '2020/4/30', '2020/5/1', '2020/5/2', '2020/5/3', '2020/5/4', '2020/5/5', '2020/5/6', '2020/5/7', '2020/5/8', '2020/5/9', '2020/5/10', '2020/5/11', '2020/5/12', '2020/5/13', '2020/5/14', '2020/5/15', '2020/5/16', '2020/5/17', '2020/5/18', '2020/5/19', '2020/5/20', '2020/5/21', '2020/5/22', '2020/5/23', '2020/5/24', '2020/5/25', '2020/5/26', '2020/5/27', '2020/5/28', '2020/5/29', '2020/5/30', '2020/5/31', '2020/6/1', '2020/6/2', '2020/6/3', '2020/6/4', '2020/6/5', '2020/6/6', '2020/6/7', '2020/6/8', '2020/6/9', '2020/6/10', '2020/6/11', '2020/6/12', '2020/6/13', '2020/6/14', '2020/6/15', '2020/6/16', '2020/6/17', '2020/6/18', '2020/6/19', '2020/6/20', '2020/6/21', '2020/6/22', '2020/6/23', '2020/6/24', '2020/6/25', '2020/6/26', '2020/6/27', '2020/6/28', '2020/6/29', '2020/6/30', '2020/7/1', '2020/7/2', '2020/7/3', '2020/7/4', '2020/7/5', '2020/7/6', '2020/7/7', '2020/7/8', '2020/7/9', '2020/7/10', '2020/7/11', '2020/7/12', '2020/7/13', '2020/7/14', '2020/7/15', '2020/7/16', '2020/7/17', '2020/7/18', '2020/7/19', '2020/7/20', '2020/7/21', '2020/7/22', '2020/7/23', '2020/7/24', '2020/7/25', '2020/7/26', '2020/7/27', '2020/7/28', '2020/7/29', '2020/7/30', '2020/7/31', '2020/8/1', '2020/8/2', '2020/8/3'];
      const my_planting_days =[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181];
      const my_harvest_date =['2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/18', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/19', '2020/6/18', '2020/6/18', '2020/6/18', '2020/6/17', '2020/6/17', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/16', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/14', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/15', '2020/6/14', '2020/6/14', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/13', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12', '2020/6/12'];
      const my_predicted_planting_days =[136,136,136,136,136,136,136,136,136,136,136,136,135,136,136,136,136,136,136,136,136,136,136,135,135,135,134,134,133,133,133,133,133,133,133,133,133,133,132,132,132,133,133,133,133,132,132,132,132,132,131,131,131,131,131,131,131,130,130,130,130,130,130,131,131,131,131,131,131,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,131,131,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129];

      let base = new Date(2020, 2, 4);
      let oneDay = 24 * 60 * 60 * 1000;
      let date = [];
      let data = [Math.random()];

      for (let i = 1; i < 182; i++) {
        var now = new Date((base += oneDay));
        date.push([now.getFullYear(), now.getMonth(), now.getDate()].join("/"));
      }

      option = {
        color: ["grey", "red","#3c58d8","#96c4f0"],
        tooltip: {
          trigger: "axis"
        },

        legend: {},
        xAxis: {
          type: "category",
          boundaryGap: false,
          data: date
        },
        yAxis: {
          type: "value",
          axisLabel: {
            formatter: "{value} %"
          }
        },

        series: [
          {
            name: "收穫量", //harvest
            type: "line",
            data: [],
            markPoint: {
              data: [
                { type: "max", name: "Max" },
                { type: "min", name: "Min" }
              ]
            },
            markLine: {
                symbol: ['none'],
                label: { show: false },
                lineStyle:{
                        type:'solid',
                        color: '#0074e0',
                        width: 1.5
                    },
                data: [{ xAxis:[] }]
            },
          },
          {
            name: "產量損失警戒線", //alert
            type: "line",
            data: []
          },
          {
            name: "最大可能產量", //alert
            type: "line",
            lineStyle: {
            type: 'dashed'
            },
            data: []
          },
          {
            name: "最小可能產量", //alert
            type: "line",
            lineStyle: {
            type: 'dashed'
            },
            data: []
          }
        ]
      };
      function changePlot(event) {
        let range_bar_value = Number(event.target.value);
        const upline = [];
        const downline = [];
        let i = 0;
        while(++i < range_bar_value+100){
          upline[i] = max_harvest[range_bar_value];
          downline[i] = min_harvest[range_bar_value];
        };
        option.series[0].markLine.data[0].xAxis = range_bar_value;
        option.series[0].data = harvest_amounts.slice(0, range_bar_value+1);
        option.series[1].data = alert_values.slice(0, range_bar_value+1);
        option.series[2].data = new Array(range_bar_value).concat(upline);
        option.series[3].data = new Array(range_bar_value).concat(downline);
        
        outerData.temperature_max = my_temperature_max.slice(range_bar_value,range_bar_value+1);
        outerData.temperature_min = my_temperature_min.slice(range_bar_value,range_bar_value+1);
        outerData.solar_radiation = my_solar_radiation.slice(range_bar_value,range_bar_value+1);
        outerData.accu_solar_radiation = my_accu_solar_radiation.slice(range_bar_value,range_bar_value+1);
        outerData.rainfalls = my_rainfalls.slice(range_bar_value,range_bar_value+1);
        outerData.accu_rainfalls = my_accu_rainfalls.slice(range_bar_value,range_bar_value+1);
        outerData.run_date = my_run_date.slice(range_bar_value,range_bar_value+1);
        outerData.planting_days = my_planting_days.slice(range_bar_value,range_bar_value+1);
        outerData.week = my_week.slice(range_bar_value,range_bar_value+1);
        outerData.harvest_date = my_harvest_date.slice(range_bar_value,range_bar_value+1);
        outerData.predicted_planting_days = my_predicted_planting_days.slice(range_bar_value,range_bar_value+1);
        option && myChart.setOption(option);
      }
      //頁面載入時預先繪圖，50為拉霸的預設值
      changePlot({ target: { value: 50 } });

    
    </script>

  </body>
</html>
